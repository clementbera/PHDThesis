\ifx\wholebook\relax\else

% --------------------------------------------
% Lulu:

    \documentclass[a4paper,12pt,twoside]{../includes/ThesisStyle}

	\input{../includes/macros}
	\input{../includes/formatAndDefs}

	\graphicspath{{.}{../figures/}}
	\begin{document}
\fi

\chapter{Metacircular optimising JIT}
\label{chap:metacircular}
\minitoc

Doc: blog post Sista chronicles 1, an update on the sista, talks at ESUG and Smalltalks + arch paper

\section{In-language optimiser}

constraints 

optimiser
- dependency
- disable it while running
optimiser => disable it while running, each dependency becomes bilateral hence modifying dependency crash the VM

debugging + runtime modification, is it possible ? Kind of, you may break the VM. If error nothing's installed. But silent error generating incorrect n-code are not tracked down.

with no lib is it smalltalk anymore ? Same syntax.

\section{In-language deoptimiser}

deoptimiser
sol1
- recovery state (not working with threads)
sol2
- completely independent and forbid deopt
).

Strong constraints: no dependency at all (duplicate array and dict), debugging is hardly possible.

deoptimiser => can't disable it while running. Attempt to recovery state with limited portion that cannot be optimised, issues with green threads and complexity, made it independent.

Example of debugging -> can't log from deoptimiser. 

\section{Related work}

same runtime versus compiled runtime. Compare with Pypy, Graal. Modification at runtime of the optimiser in our case (Smalltalk + same runtime

Compare with full metacircular. What do they do ?



\ifx\wholebook\relax\else
    \end{document}
\fi