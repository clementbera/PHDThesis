\ifx\wholebook\relax\else
% --------------------------------------------
% Lulu:
    \documentclass[a4paper,12pt,twoside]{../includes/ThesisStyle}

	\input{../includes/macros}	
	\input{../includes/formatAndDefs}

	\graphicspath{{.}{../figures/}}
	\begin{document}
\fi

\chapter{Exploiting runtime information}
\label{chap:exploitation}
\minitoc

Paper: Opal + runtime type inference * 2
small intro

use VM info for other purpose

\section{Moving VM info to the AST}

Explain debugging infra in smalltalk with ast based highlighting.

Existing compiler was based on bc -> source range mapping.

We changed to bc to ast to source range

can ask any bcpc for its corresponding AST node.

That could be use to leverage information from bc to AST.

reuse debug infrastructure because AST based

Doc: Opal paper.

subsection: debugging
subsection: sendAndBranchData 

sendAndBranchData pc -> types

can just annotate the sendNode.

+ branch data

\section{Runtime type inference}

Doc: Nevena paper

just write things from there.

\section{Discussion}

discussion once adaptive opt what needs to be kept.

\section{Related work}
-- other use of architecture ? Seemingly proto ruby truffle ? Need to look into review IWST. Things exists for profiling (energy or time consumption or ...) but not really types ?

Not sure about that last section

\ifx\wholebook\relax\else
    \end{document}
\fi